---
name: requirement-design-generator
description: 通过交互式问答收集需求信息,生成详细的设计文档,包含智能优化补充、建议提供和AI评估功能
---

# 需求设计文档生成器 Skill

## 📋 概述

这个 Skill 帮助你通过结构化的交互式问答流程,收集项目需求信息,并生成一份完整、专业的需求设计文档。它会智能地识别缺失信息、提供优化建议,并对需求质量进行评估。

## 🎯 使用场景

- 启动新项目前需要整理需求
- 将零散的想法转化为结构化文档
- 需要对现有需求进行完善和优化
- 需要评估需求的完整性和可行性

## 🔄 工作流程

### 阶段 1：需求收集（交互式问答）

**你必须按照以下顺序提问,每次只问一个问题,等待用户回答后再继续：**

#### 1.1 项目基础信息

1. **项目名称**：这个项目叫什么名字？
2. **项目类型**：这是什么类型的项目？（Web应用/移动应用/桌面应用/API服务/其他）
3. **项目背景**：为什么要做这个项目？要解决什么问题？
4. **目标用户**：谁会使用这个系统？（具体描述用户画像）

#### 1.2 核心功能需求

5. **核心功能**：这个系统最重要的3-5个核心功能是什么？（用简短的句子描述）
6. **用户场景**：用户会在什么场景下使用这些功能？（描述2-3个典型使用场景）
7. **特殊需求**：有没有特别的功能要求？（如：实时通知、数据导出、权限管理等）

#### 1.3 技术和约束

8. **技术栈偏好**：有没有技术栈的要求或偏好？（如：前端框架、后端语言、数据库等）
9. **性能要求**：对性能有什么要求？（如：响应时间、并发用户数等）
10. **兼容性要求**：需要支持哪些平台/浏览器/设备？

#### 1.4 项目规划

11. **时间计划**：期望的开发周期是多久？有没有重要的时间节点？
12. **团队规模**：有多少人参与开发？
13. **优先级**：如果时间紧张,哪些功能是必须的,哪些可以延后？

### 阶段 2：智能优化补充

**在收集完基础信息后,你必须执行以下优化步骤：**

#### 2.1 缺失信息识别

分析已收集的信息,识别以下可能缺失的关键要素：

- 数据模型和实体关系
- 用户权限和角色设计
- 数据安全和隐私保护
- 错误处理和异常情况
- 系统集成和第三方服务

#### 2.2 智能推断和补充

基于项目类型和已有信息,推断可能需要的功能：

**示例推断规则：**

- 如果是"用户管理系统" → 推断需要：注册、登录、密码重置、个人资料编辑
- 如果提到"数据展示" → 推断需要：搜索、筛选、排序、分页
- 如果是"协作工具" → 推断需要：实时通知、评论、分享、权限控制
- 如果是"电商系统" → 推断需要：购物车、订单管理、支付集成、库存管理

**补充方式：**

```
我注意到您的项目可能还需要以下功能：
1. [推断的功能1] - [原因说明]
2. [推断的功能2] - [原因说明]

这些功能是否需要包含在需求中？请告诉我哪些需要,哪些不需要。
```

### 阶段 3：优化建议

**你必须从以下维度提供优化建议：**

#### 3.1 SMART 原则检查

对每个需求检查是否符合 SMART 原则：

- **S (Specific)** - 具体明确
- **M (Measurable)** - 可衡量
- **A (Achievable)** - 可实现
- **R (Relevant)** - 相关性
- **T (Time-bound)** - 有时限

#### 3.2 提供具体建议

**建议格式：**

```
## 优化建议

### 高优先级 🔴
1. **[问题描述]**
   - 当前状态：[现状]
   - 建议改进：[具体建议]
   - 改进理由：[为什么要改]

### 中优先级 🟡
[同上格式]

### 低优先级 🟢
[同上格式]
```

**常见建议类型：**

- 功能描述过于模糊 → 建议添加具体的验收标准
- 缺少非功能需求 → 建议补充性能、安全、可用性要求
- 技术方案不明确 → 建议提供技术选型理由
- 缺少风险评估 → 建议识别技术风险和应对方案

### 阶段 4：AI 智能评估

**你必须对需求文档进行多维度评估：**

#### 4.1 完整性评分 (0-100分)

检查以下必需项是否完整：

- [ ] 项目概述和背景 (10分)
- [ ] 目标用户定义 (10分)
- [ ] 核心功能列表 (20分)
- [ ] 用户故事/场景 (15分)
- [ ] 非功能需求 (15分)
- [ ] 技术方案 (15分)
- [ ] 验收标准 (10分)
- [ ] 风险评估 (5分)

#### 4.2 清晰度评分 (0-100分)

评估标准：

- 功能描述是否具体明确 (30分)
- 是否有歧义或模糊表述 (30分)
- 技术术语使用是否准确 (20分)
- 逻辑结构是否清晰 (20分)

#### 4.3 可行性评分 (0-100分)

评估标准：

- 技术实现难度 (30分)
- 时间计划合理性 (30分)
- 资源匹配度 (20分)
- 风险可控性 (20分)

#### 4.4 综合评估报告

**输出格式：**

```
## 📊 需求质量评估报告

### 总体评分：[X]/100

| 评估维度 | 得分 | 等级 | 说明 |
|---------|------|------|------|
| 完整性  | XX/100 | [优秀/良好/及格/不及格] | [简要说明] |
| 清晰度  | XX/100 | [优秀/良好/及格/不及格] | [简要说明] |
| 可行性  | XX/100 | [优秀/良好/及格/不及格] | [简要说明] |

### 评级标准
- 90-100分：优秀 ⭐⭐⭐⭐⭐
- 75-89分：良好 ⭐⭐⭐⭐
- 60-74分：及格 ⭐⭐⭐
- 60分以下：不及格 ⭐⭐

### 主要优点
1. [优点1]
2. [优点2]

### 需要改进的地方
1. [改进点1]
2. [改进点2]

### 建议下一步
[具体的改进建议]
```

## 📄 输出文档结构

**你必须按照以下模板生成最终的需求设计文档：**

```markdown
# [项目名称] 需求设计文档

> 文档版本：v1.0  
> 创建日期：[日期]  
> 最后更新：[日期]

## 1. 项目概述

### 1.1 项目背景

[项目背景描述]

### 1.2 项目目标

[项目要达成的目标]

### 1.3 目标用户

[用户画像描述]

### 1.4 核心价值

[这个项目为用户带来什么价值]

## 2. 功能需求

### 2.1 功能列表

| 功能模块 | 功能描述 | 优先级   |
| -------- | -------- | -------- |
| [模块1]  | [描述]   | P0/P1/P2 |
| [模块2]  | [描述]   | P0/P1/P2 |

### 2.2 用户故事

#### 故事1：[标题]

- **作为** [角色]
- **我想要** [功能]
- **以便** [目的/价值]
- **验收标准**：
  - [ ] [标准1]
  - [ ] [标准2]

### 2.3 功能详细说明

#### 功能1：[功能名称]

**描述**：[详细描述]  
**输入**：[输入内容]  
**处理**：[处理逻辑]  
**输出**：[输出结果]  
**异常处理**：[异常情况]

## 3. 非功能需求

### 3.1 性能要求

- 响应时间：[具体指标]
- 并发用户：[具体数量]
- 数据量：[具体规模]

### 3.2 安全要求

- 身份认证：[方案]
- 数据加密：[方案]
- 权限控制：[方案]

### 3.3 兼容性要求

- 浏览器：[支持的浏览器版本]
- 设备：[支持的设备类型]
- 操作系统：[支持的系统]

### 3.4 可用性要求

- 系统可用性：[如99.9%]
- 容错能力：[说明]
- 备份恢复：[方案]

## 4. 技术方案

### 4.1 技术栈

- **前端**：[技术选型]
- **后端**：[技术选型]
- **数据库**：[技术选型]
- **其他**：[其他技术]

### 4.2 系统架构

[架构图或描述]

### 4.3 数据模型

[核心实体和关系]

### 4.4 接口设计

[关键接口说明]

## 5. 项目计划

### 5.1 里程碑

| 阶段  | 交付内容 | 预计时间 |
| ----- | -------- | -------- |
| 阶段1 | [交付物] | [时间]   |
| 阶段2 | [交付物] | [时间]   |

### 5.2 资源配置

- 开发人员：[数量和角色]
- 设计人员：[数量]
- 测试人员：[数量]

### 5.3 风险评估

| 风险    | 影响     | 概率     | 应对措施 |
| ------- | -------- | -------- | -------- |
| [风险1] | 高/中/低 | 高/中/低 | [措施]   |

## 6. 附录

### 6.1 术语表

[关键术语解释]

### 6.2 参考资料

[相关文档链接]
```

## 🎯 执行指南

### 开始使用这个 Skill 时：

1. **首先说明**：

   ```
   我将通过一系列问题来帮助你整理需求。这个过程大约需要回答10-15个问题,
   每个问题我会等你回答后再继续。准备好了吗？让我们开始吧！
   ```

2. **问答过程中**：
   - 一次只问一个问题
   - 根据回答适当追问细节
   - 记录所有关键信息
   - 用友好的语气交流

3. **收集完信息后**：
   - 执行智能补充
   - 提供优化建议
   - 生成评估报告
   - 输出完整文档

4. **文档生成后**：
   - 执行智能补充
   - 提供优化建议
   - 生成评估报告
   - 输出完整文档

5. **PDF 导出询问**（必须执行）：

   **在文档生成后，你必须询问用户是否需要导出 PDF：**

   ```
   需求文档已生成！

   📄 Markdown 文件：[显示文件路径]

   是否需要将文档转换为 PDF？（是/否）
   ```

   **如果用户回答"是"或类似肯定的回答：**
   1. **检查用户是否提供了文件路径**：
      - 如果用户在回答中包含了文件路径（如 `/path/to/output.pdf`），使用该路径
      - 如果用户只回答"是"但没有提供路径，继续询问：
        ```
        请提供 PDF 文件的保存路径（或直接回车使用默认路径）：
        默认路径：[与 Markdown 文件同目录，同名 .pdf]
        ```

   2. **调用 Markdown 转 PDF Skill**：
      - 使用 `markdown-to-pdf-skill` 进行转换
      - 参数：
        - 输入文件：生成的 Markdown 文档路径
        - 输出文件：用户指定的路径或默认路径
        - 选项：`--toc`（生成目录）
        - 样式：`--style tango`（代码高亮）
        - 纸张：`--paper a4`
        - 字体：`--fontsize 12pt`

   3. **转换完成后提示**：

      ```
      ✅ PDF 转换成功！

      📄 Markdown 文件：[路径]
      📕 PDF 文件：[路径]

      你可以：
      1. 查看评估报告，了解需求质量
      2. 根据优化建议进行调整
      3. 对某个部分进行深入讨论
      4. 重新生成 PDF（如需调整样式）

      你想先做什么？
      ```

   **如果用户回答"否"或类似否定的回答：**

   ```
   好的，文档已保存为 Markdown 格式。

   📄 文件路径：[路径]

   你可以：
   1. 查看评估报告，了解需求质量
   2. 根据优化建议进行调整
   3. 对某个部分进行深入讨论
   4. 稍后需要时再转换为 PDF（直接说"转成 PDF"即可）

   你想先做什么？
   ```

## ⚠️ 注意事项

1. **保持耐心**：不要一次性问太多问题,让用户有时间思考
2. **灵活调整**：根据项目类型调整问题的深度和广度
3. **记录完整**：确保所有回答都被记录到最终文档中
4. **提供价值**：不只是记录,要提供专业的分析和建议
5. **迭代优化**：文档生成后支持用户反馈和修改

## 📚 相关资源

- 参考模板：`resources/template.md`
- 评估清单：`resources/checklist.md`
- 示例文档：`examples/sample_requirement.md`
- 完整案例：`examples/completed_design.md`
